<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
      xmlns:th="http://www.thymeleaf.org">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<link rel = "stylesheet" th:href = "@{/styles/stylesheet1.css}">
<script type = "text/javascript" th:src = "@{/styles/scripts.js}"></script>
<script type = "text/javascript" th:src = "@{/styles/sweetaler.js}"></script>
<link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
      integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.25/js/dataTables.bootstrap5.min.js"></script>
<link href="https://cdn.datatables.net/1.10.25/css/dataTables.bootstrap5.min.css" rel="stylesheet">
<head>
    <meta charset="utf-8"/>
    <title>Phone Book Manager</title>
    <style>
		body {
		background-color : lightgray;
		}
		.centerDiv {
  width: 40%;
 background: white;
  border : solid 2px lighblue ;
  border-radius : 8px ;
  padding :50px;
  }
  table{
  background-color:white;
  width : 100%;
  }
   strong:hover{
  color:white;
  }
.swal2-confirm{
margin:20px;
}
#table_filter{
text-align:center;
margin-left: 87px;
}
#table_length{
margin-right: 160px;
}
div.dataTables_wrapper div.dataTables_paginate ul.pagination{
    justify-content: center;
    margin-left: 280px;
}
    </style>
</head>
<body id="body-pd">

<main>
    <div align="center" style="margin-top:5%;">
        <h1>Phone Book Storage</h1>
        <div>
            <form th:action="@{/new}" method="post">
                <button class="btn btn-primary">Create New Phone Book</button>
            </form>
        </div>
        <br/><br/>
        <table border="1" cellpadding="10" style="width:71%" class="table"
               id="table">
            <thead class="thead-dark">
            <tr scope="row">
                <th scope="col">First Name</th>
                <th scope="col">Last Name</th>
                <th scope="col">Phone Number</th>
                <th scope="col">Type</th>
                <th scope="col">Actions</th>
            </tr>
            </thead>
            <tbody>
            <tr scope="row" th:each="pb : ${listOfPhoneBooks}">
                <td th:text="${pb.name.firstName}">Customer Name<\td>
                <td th:text="${pb.name.lastName}">Name</td>
                <td th:text="${pb.number}">Address</td>
                <td th:text="${pb.type}">Phone Number</td>
                <td>
<!--                    <div>-->
<!--                        <a th:href="@{'/edit/' + ${pb.id}}">Edit</a>/phoneBook/deletePhoneBookById/{id}-->
<!--                    </div>-->
                    <br>
                    <div>
                        <a style="cursor:pointer"
                             th:onclick="|deleteOrder(${pb.id});|" class='show-example-btn'>
                            Delete
                        </a>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

<!--    <button class='show-example-btn' data-swal-template='#my-template'>-->
<!--        Trigger modal-->
<!--    </button>-->
</main>
<script>
$(document).ready(() => $('#table').DataTable());
</script>
<script>
  function deleteOrder(id) {
    swal({
      title: "Are you sure?",
      text: "All data will be deleted",
      icon: "warning",
      buttons: true,
      dangerMode: true,
    }).then((Delete) => {
      if (Delete)
        window.location.href = "/deletePhoneBookById/" + id;
    });
  }
</script>
</body>
</html>